if (!can_move) exit;